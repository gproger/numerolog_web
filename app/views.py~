from django.shortcuts import render
from django.http import Http404
from django.shortcuts import get_object_or_404
from rest_framework import status, viewsets
from rest_framework.decorators import detail_route
from rest_framework.parsers import FormParser, JSONParser, MultiPartParser
from rest_framework.response import Response


class AppOrderListViewSet(viewset.ListCreateAPIView):
	permission_classes = {
	permissions.IsAuthenticated,
	}
	serializer_class = AppOrderListSerializer

	def list(self,request):
		appUser = AppUser.objects.filter(email=request.user.email)
		if appUser.length > 0:
			queryset = AppOrder.objects.filter(requester=appUser[0])
			serializer = AppOrderListSerializer(queryset, many = True)
			return Response(serializer.data)
		else
			return Http404


# Create your views here.
